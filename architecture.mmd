graph TD
    subgraph User
        A["Website (React)"]
    end

    
    subgraph "AWS"
            B["Route 53"]
            A --> B
            B --> C[API Gateway]
            subgraph "AWS Region 1"
                
                C --> D["Application Load Balancer (ELB)"]
                
                subgraph ECS
                    subgraph "App Service"
                        E["Backend App Service (ECS)"]
                    end 
                    subgraph "MCP Service"
                        F["MCP Client Service (ECS)"]
                        F -->|Spawns via uvx| G["MCP Server Process (e.g. Cortex)"]
                    end
                end

                D --> E

                E -->|HTTP /chat| F
                E -->|Calls| I[AuthZ Service]
            end

            I -.->|Validates Session Cookie| E
        end

    subgraph Snowflake
        H["Cortex APIs"]
    end

    G -->|Tool API Calls| H